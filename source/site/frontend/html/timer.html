<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/css/timer.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tortellini Timer!</title>
</head>

<body>
    <div class="background-img">
        <main>
            <c-modal id="c-modal"></c-modal>
            <c-settings id="c-settings" style="display: none"></c-settings>
            <c-analysis id="c-analysis" style="display: none"></c-analysis>
            <c-task-list id="c-task-list" style="display: initial"></c-task-list>
            <c-control-button onclick="state_transition('timer_open_settings')">Settings</c-control-button>
            <c-control-button onclick="state_transition(timer_init == window.current_state ? 'timer_toggle_task_list' : 'timer_init')">Tasklist</c-control-button>
            <c-control-button onclick="state_transition(timer_init == window.current_state ? 'timer_open_analysis' : 'timer_init')">Analysis</c-control-button>
            <c-control-button onclick="document.getElementById('c-modal').display_alert('test alert')">Alert</c-control-button>
            <c-control-button onclick="document.getElementById('c-modal').display_confirm('test confirmation', () => {}, () => {})">Confirm</c-control-button>

            <div class="container">
                <div id="timer-labels">
                    <p id="early-prompt">
                        Great job! Don't start the next task yet, reflect on your current
                        task!
                    </p>
                    <p id="timer-label">Waiting</p>
                </div>
                <c-timer-display id="timer-display"></c-timer-display>
                <div class="control-buttons">
                    <!-- <button class="control" id="start-button">Start</button> -->
                    <c-control-button id="start-button" class="start" onclick="document.getElementById('timer-display').trigger_start()">Start</c-control-button>
                    <c-control-button id="emergency-stop-button" class="finish" onclick="document.getElementById('timer-display').trigger_emergency_stop_prompt()">Emergency Stop</c-control-button>
                    <c-control-button id="overstudy-button" class="finish" onclick="document.getElementById('timer-display').trigger_finish_early()">Finished Early</c-control-button>
                    <c-control-button id="add-cycle-button" class="finish" onclick="document.getElementById('timer-display').trigger_add_cycle()">Add Cycle</c-control-button>
                </div>
                <div class="task">
                    <span id="current-task">Example Task</span> <!-- window.task_list.current_task.stringify() -->
                </div>
            </div>

            <!-- should play when work and break cycles end
        <audio id="alarm-sound" src="/assets/audio/spongebob-screaming-alarm-placeholder.mp3"></audio> -->
        </main>
    </div>
    <footer>
        <a href="https://github.com/ycyao216/cse110-w21-group17/wiki">Visit Team Tortellini@Github</a>
    </footer>
    <script type="module" src="/js/timer.js"></script>
</body>

</html>