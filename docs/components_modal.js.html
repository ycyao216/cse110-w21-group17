<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/modal.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/modal.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Enacts the constructor for the modal element
 * @param {*} html - The html component of the modal
 * @function
 */
export function define_modal(html) {
    /**
     * Attaches the modal's html to the shadow dom and initializes it and its functions
     * @class
     */
    class CModal extends HTMLElement {
        constructor() {
            super();
            var shadow = this.attachShadow({
                mode: 'open'
            });
            shadow.innerHTML = html;

            // The modal elements
            this.modal = this.shadowRoot.getElementById("modal-popup");
            this.modal_text = this.shadowRoot.getElementById("modal-text");
            this.modal_close_btn = this.shadowRoot.getElementById("close");
            this.confirm_button = this.shadowRoot.getElementById("confirm-button");
            this.cancel_button = this.shadowRoot.getElementById("cancel-button");

            // The modal data
            this.func_close_btn = null;
            this.func_confirm_button = null;
            this.func_cancel_button = null;

            // Bind EventListeners
            this.modal_close_btn.addEventListener('click', this.onclick_modal_close_btn);
            this.confirm_button.addEventListener('click', this.onclick_confirm_button);
            this.cancel_button.addEventListener('click', this.onclick_cancel_button);
        }

        /**
         * What the modal does when close button is clicked
         * @function
         */
        onclick_modal_close_btn = () => {
            this.modal.style.display = "none";
            this.modal_close_btn.style.display = "none";
            this.confirm_button.style.display = "none";
            this.cancel_button.style.display = "none";
        }

        /**
         * What the modal does when confirm button is clicked
         * @function
         */
        onclick_confirm_button = () => {
            this.modal.style.display = "none";
            this.modal_close_btn.style.display = "none";
            this.confirm_button.style.display = "none";
            this.cancel_button.style.display = "none";

            this.func_confirm_button.call(this);
        }

        /**
         * What the modal does when the cancel button is clicked
         * @function
         */
        onclick_cancel_button = () => {
            this.modal.style.display = "none";
            this.modal_close_btn.style.display = "none";
            this.confirm_button.style.display = "none";
            this.cancel_button.style.display = "none";

            this.func_cancel_button.call(this);
        }

        /**
         * Enacts the modal to display pop up with passed text
         * @param {*} text_to_show - text to display in modal
         */
        display_alert = (text_to_show) => {
            this.modal.style.display = "block";
            this.modal_close_btn.style.display = "block";
            this.confirm_button.style.display = "none";
            this.cancel_button.style.display = "none";
            this.modal_text.innerText = text_to_show
        }

        /**
         * Enacts the modal to display confirm/cancel pop up with passed text
         * @param {*} text_to_show - text to display in modal
         * @param {*} func_yes - function called on confirm
         * @param {*} func_no - function called on cancel
         */
        display_confirm = (text_to_show, func_yes, func_no) => {
            this.modal.style.display = "block";
            this.modal_close_btn.style.display = "none";
            this.confirm_button.style.display = "block";
            this.cancel_button.style.display = "block";
            this.modal_text.innerText = text_to_show

            this.func_confirm_button = func_yes;
            this.func_cancel_button = func_no;
        }


    }
    customElements.define('c-modal', CModal);
    return CModal;
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CControlButton.html">CControlButton</a></li><li><a href="CModal.html">CModal</a></li><li><a href="CSettings.html">CSettings</a></li><li><a href="CTask.html">CTask</a></li><li><a href="CTaskList.html">CTaskList</a></li><li><a href="CTimerDisplay.html">CTimerDisplay</a></li></ul><h3>Events</h3><ul><li><a href="global.html#event:-Changeinputforlongbreakduration">- Change input for long break duration</a></li><li><a href="global.html#event:-Changeinputforshortbreakduration">- Change input for short break duration</a></li><li><a href="global.html#event:-Changeinputforworkingduration">- Change input for working duration</a></li><li><a href="global.html#event:-clickaddtask">- click add task</a></li><li><a href="global.html#event:-clickdarkmode">- click dark mode</a></li><li><a href="global.html#event:-clicklightmode">- click light mode</a></li><li><a href="global.html#event:-toggleemergencystopbutton">- toggle emergency stop button</a></li></ul><h3>Global</h3><ul><li><a href="global.html#active_userstate">active_userstate</a></li><li><a href="global.html#advance_break_cycle">advance_break_cycle</a></li><li><a href="global.html#advance_task">advance_task</a></li><li><a href="global.html#analysis">analysis</a></li><li><a href="global.html#create_task">create_task</a></li><li><a href="global.html#create_uid">create_uid</a></li><li><a href="global.html#current_task">current_task</a></li><li><a href="global.html#define_control_button">define_control_button</a></li><li><a href="global.html#define_modal">define_modal</a></li><li><a href="global.html#define_settings">define_settings</a></li><li><a href="global.html#define_task">define_task</a></li><li><a href="global.html#define_task_list">define_task_list</a></li><li><a href="global.html#define_timer_display">define_timer_display</a></li><li><a href="global.html#delete_task">delete_task</a></li><li><a href="global.html#delete_user_data">delete_user_data</a></li><li><a href="global.html#force_state">force_state</a></li><li><a href="global.html#is_finished">is_finished</a></li><li><a href="global.html#is_pending">is_pending</a></li><li><a href="global.html#is_running">is_running</a></li><li><a href="global.html#move_task">move_task</a></li><li><a href="global.html#next_task_id">next_task_id</a></li><li><a href="global.html#postData">postData</a></li><li><a href="global.html#read_task">read_task</a></li><li><a href="global.html#request_user_data_and_start">request_user_data_and_start</a></li><li><a href="global.html#rev_transition">rev_transition</a></li><li><a href="global.html#statelet">statelet</a></li><li><a href="global.html#timer_state_machine">timer_state_machine</a></li><li><a href="global.html#transition">transition</a></li><li><a href="global.html#update_settings">update_settings</a></li><li><a href="global.html#update_state">update_state</a></li><li><a href="global.html#update_task">update_task</a></li><li><a href="global.html#upload_userdata">upload_userdata</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Thu Mar 18 2021 05:51:57 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
